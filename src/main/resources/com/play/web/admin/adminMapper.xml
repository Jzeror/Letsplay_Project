<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.play.web.admin.AdminMapper">
	<select id="getAgeCnt" resultType="com.play.web.admin.MemberAge">
		SELECT  member_age as memberAge
				,COUNT(*) AS totCount
		FROM(
			SELECT CASE WHEN age between 20 AND 29 THEN '20'
						WHEN age between 30 AND 39 THEN '30'
						WHEN age between 40 AND 49 THEN '40'
						WHEN age between 50 AND 59 THEN '50'
					ELSE '60'
					END
			AS member_age
			FROM member
		)A
		GROUP BY member_age
	</select>


</mapper>